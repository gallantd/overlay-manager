"use strict";var OverlayManager=function(a,b){return a&&"object"==typeof a?(this.zones=a[0].promos,this.adfree=b||!1,this.$window=$(window),this.$body=$("body"),void this.batting()):(this.logging("Data object has not been provided","error"),!1)};OverlayManager.prototype.FRAME_ID="OverlayFrame",OverlayManager.prototype.OVERLAY_ID="OverlayModal",OverlayManager.prototype.batting=function(){var a=this.overlayCheck();return"object"!=typeof a?(this.logging("no match provided","yarn"),!1):(this.setOptions(a),void this.setupListeners())},OverlayManager.prototype.defaults={cookieTime:1,cookieValue:"true",cookieName:"OverlayCookie",width:"100%",height:"100%",backgroundColor:"0,0,0",opacity:"0.8",onAdfree:!1,currentUrl:window.location.href},OverlayManager.prototype.overlayCheck=function(){var a,b,c=this.zones,d=c.length;for(a=0;d>a;a++)if(c[a].parameters)if(c[a].parameters.includes){if(this.matchCheck(c[a].parameters.includes.split(","))){b=a;break}}else c[a].parameters.excludes&&this.matchCheck(c[a].parameters.excludes.split(","))||(b=a);else b=a;return void 0!==b?(this.logging("Matching page overlay"),c[b]):!1},OverlayManager.prototype.matchCheck=function(a){var b,c,d;if(!a)return!1;for(c=a.length,d=this.defaults.currentUrl,b=0;c>b;b++)if(d.match(a[b]))return!0;return!1},OverlayManager.prototype.setOptions=function(a){return this.logging(a),a?(this.options=$.extend(this.options,this.defaults,a.parameters),void(this.options.customIncludeUrl=a.customIncludeUrl)):(this.logging("No data options provided","error"),!1)},OverlayManager.prototype.setupListeners=function(){var a=!0;return this.$body.hasClass("activeOverlay")&&(a=!1),this.$body.toggleClass("activeOverlay",!0),this.$window.bind("overlay.kill",$.proxy(this.remove,this)),a},OverlayManager.prototype.remove=function(){this.$body.hasClass("activeOverlay")&&(this.$body.toggleClass("activeOverlay",!1).find("#"+this.OVERLAY_ID).remove(),this.$window.unbind("overlay.kill"))},OverlayManager.prototype.logging=function(a,b){return console?void("object"!=typeof a?"error"===b?console.error("OverlayManager -> "+a):"warn"===b?console.warn("OverlayManager -> "+a):console.log("OverlayManager -> "+a):"error"===b?console.error("OverlayManager Obj-> ",a):"warn"===b?console.warn("OverlayManager Obj-> ",a):console.log("OverlayManager Obj-> ",a)):!1};